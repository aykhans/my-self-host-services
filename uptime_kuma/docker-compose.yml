networks:
    caddy:
        name: caddy
        driver: bridge
        external: true

services:
    uptime-kuma:
        image: louislam/uptime-kuma:1
        container_name: uptime_kuma
        restart: unless-stopped
        volumes:
            - ./data/app:/app/data
            - /var/run/docker.sock:/var/run/docker.sock:ro
        networks:
            - caddy
        labels:
            caddy: ${CADDY_DOMAIN}
            caddy.reverse_proxy: "* {{upstreams 3001}}"
